# 智能床垫实时监测与动态气囊高度调节系统

## 项目概述
这是一个基于WebSocket的智能床垫实时监测与动态气囊高度调节系统演示项目。系统实现了高精度压力传感器数据可视化、智能睡眠姿态识别、34个气囊的动态高度控制，以及基于人工智能算法的自动支撑调节功能。

## 核心功能
- 🌡️ **40×26高精度压力热力图**：0-140数值范围连续色彩映射
- 🎈 **34个气囊动态调节**：0-100%高度精确控制
- 🧠 **智能压力响应算法**：基于人体工学的7区域差异化支撑
- 📊 **实时监测指标**：接触面指数、压力阈值可调(0-20)
- 📋 **压力矩阵显示**：1040传感器完整可视化，支持折叠控制
- ⚡ **瞬时响应系统**：监测指标<10ms响应时间
- 🎯 **个性化设置**：软/平衡/硬模式，敏感度调节

## 技术架构
- **前端**：纯JavaScript ES6+ + 现代CSS3 + WebSocket
- **后端**：Python asyncio WebSocket服务器
- **数据**：JSON格式循环播放真实传感器数据
- **通信**：标准WebSocket协议 + JSON数据交换

## 快速启动

### 环境要求
- Python 3.8+
- websockets库 ≥12.0
- 现代浏览器(支持WebSocket和ES6+)

### 运行步骤
```bash
# 1. 激活Python虚拟环境
source ../venv/bin/activate

# 2. 启动WebSocket服务器
python server.py

# 3. 浏览器打开客户端界面
# 直接打开 clients.html 文件
```

### 服务器配置
- 主机地址：127.0.0.1 (本地访问)
- 端口：8000
- 数据更新频率：1.5秒

## 项目文件说明
- `server.py` - WebSocket服务器端，每1.5秒发送传感器数据
- `clients.html` - 客户端界面，接收数据并提供完整控制面板
- `json.txt` - 传感器数据文件(无人→仰卧→侧卧→无人循环)
- `系统测试报告.md` - 详细的功能测试和性能评估报告
- `系统功能说明.md` - 完整的系统功能和技术说明文档
- `CLAUDE.md` - 项目开发指南和架构说明
- `*.png` - 气囊布置图、热力图示例等图片资源

## 使用指南
1. 观察实时压力热力图变化
2. 查看完整压力矩阵数据(可折叠)
3. 调节接触面指数的压力阈值设置(0-20)
4. 点击"智能调节"启用自动模式
5. 在设置面板调整支撑模式和敏感度
6. 手动微调特定气囊高度
7. 监控各项实时指标数据(瞬时响应)

## 系统特色
- ✅ **零外部依赖**：前端纯原生技术栈
- ⚡ **高性能**：1040传感器实时更新无卡顿
- 🎨 **美观界面**：现代渐变设计+毛玻璃效果
- 📱 **响应式**：支持移动端和桌面端
- 🔧 **易扩展**：模块化架构，便于功能增强

## 数据流程
1. 服务器加载json.txt数据(1040个压力值)
2. 每1.5秒广播压力数据到客户端
3. 客户端实时计算并显示压力矩阵
4. 智能算法计算最佳支撑高度
5. 发送气囊高度控制命令到服务器

## 性能指标
- 热力图更新频率：1.5秒
- 监测指标响应时间：<10ms
- WebSocket通信延迟：<10ms
- 内存占用：<30MB
- CPU使用率：<1%

## 联系信息
项目地址：https://github.com/xsyshuishui/Smart-Mattress-Project

---
© 2024 智能床垫项目 - 基于WebSocket的实时监测与控制系统